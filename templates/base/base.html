<!DOCTYPE html>
<!--[if IE 8]> <html lang="en" class="ie8"> <![endif]-->
<!--[if IE 9]> <html lang="en" class="ie9"> <![endif]-->
<!--[if !IE]><!--> <html lang="en"> <!--<![endif]-->
<head>
  <title>{% block title %}Music Database{% endblock %}</title>
  <!-- Meta -->
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <meta name="author" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">

  {% font "Roboto:400,400italic,500,500italic,700,700italic,900,900italic,300italic,300" %}
  {% font "Roboto+Slab:400,700,300,100" %}

  <link href="{% static "css/musicdb.css" %}" rel="stylesheet" type="text/css" />

  <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
    <script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>

<body class="{% block body_classes %}{% endblock %}">

{% block body %}

{% if request.user.is_authenticated %}
<nav class="navbar navbar-fixed-top navbar-default" data-dropdown="dropdown">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="{% url static:home %}">Music Database</a>
    </div>

    <div class="collapse navbar-collapse">
      <ul class="nav navbar-nav">
        <li class="{% block navbar_active_nonclassical %}{% endblock %}"><a href="{% url nonclassical:view %}">Albums</a></li>
        <li class="{% block navbar_active_classical %}{% endblock %}"><a href="{% url classical:view %}">Classical</a></li>
        <li class="{% block navbar_active_books %}{% endblock %}"><a href="{% url books:index %}">Books</a></li>
        <li class="{% block navbar_active_unfiled %}{% endblock %}"><a href="{% url unfiled:view %}" data-no-instant>Unfiled</a></li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown">Logged in as <strong>{{ request.user.username }}</strong> <b class="caret"></b></a>
          <ul class="dropdown-menu">
            {% if request.user.is_superuser %}
            <li><a href="{% url superuser:view %}">Superuser</a></li>
            {% endif %}
            <li><a href="{% url profile:view %}">Profile</a></li>
            <li><a href="{% url auth:change-password %}">Change password</a></li>
            <li><a href="{% url auth:logout %}" data-no-instant>Logout</a></li>
          </ul>
        </li>
      </ul>
    </div>
  </div>
</nav>
{% endif %}

<div class="container">
<div class="content">
  {% if messages %}
  <div class="container">
    {% for message in messages %}
    <div class="alert alert-{{ message.tags }}">
      {{ message }}
    </div>
    {% endfor %}
  </div>
  {% endif %}

  {% block container %}
    <h1>{% block container_title %}{% endblock %}</h1>
    <h2>{% block container_subtitle %}{% endblock %}</h2>

    {% block content %}{% endblock %}
  {% endblock %}
</div>
</div>

{% endblock %}

{% block javascript %}
  <script src="{% static "js/musicdb.js" %}"></script>
{% endblock %}

</body>
</html>
