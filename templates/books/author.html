{% extends "base.html" %}

{% load humanize %}

{% block headtitle %}{{ author.long_name }} - Books - {{ block.super }}{% endblock %}

{% block container %}

<div class="page-header">
  <h1>{{ author.long_name }}</h1>
</div>

<div class="row">
{% for book_author in author.books.all %}
{% with book_author.book as book %}

  {% if forloop.counter0 != 0 %}
    {% if forloop.counter0|divisibleby:2 %}
    <div class="clearfix visible-xs"></div>
    {% endif %}
    {% if forloop.counter0|divisibleby:3 %}
    <div class="clearfix visible-sm"></div>
    {% endif %}
    {% if forloop.counter0|divisibleby:4 %}
    <div class="clearfix visible-md"></div>
    {% endif %}
    {% if forloop.counter0|divisibleby:6 %}
    <div class="clearfix visible-lg"></div>
    {% endif %}
  {% endif %}

  <div class="col-xs-6 col-sm-4 col-md-3 col-lg-2 text-center" style="margin-bottom: 20px;">
    <p>
      <a href="{{ settings.MEDIA_LOCATION_HTTP }}/{{ book.files.all.0.file.location }}">
        <img src="{{ book.image.thumbnail.url }}" alt="{{ book.title }}">
      </a>
    </p>

    <p>
      <a href="{{ settings.MEDIA_LOCATION_HTTP }}/{{ book.files.all.0.file.location }}">{{ book.title }}</a>
    </p>
  </div>
{% endwith %}
{% endfor %}
</div>

{% endblock %}
